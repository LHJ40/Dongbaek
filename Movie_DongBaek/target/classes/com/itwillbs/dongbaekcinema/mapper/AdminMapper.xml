<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.itwillbs.dongbaekcinema.mapper.AdminMapper">

	<!-- 영화관 목록 조회 -->
	<select id="getTeater" resultType="hashmap">
		SELECT 
			theater_num, theater_name
			FROM THEATERS
	</select>
	
    
    	<!-- 영화관 별 스케줄 목록 조회 -->
    <select id="selectScheduleList" resultType="com.itwillbs.dongbaekcinema.vo.PlayVO">
        SELECT
				*
          FROM
              PLAYS p
          JOIN THEATERS t
          ON p.theater_num = t.theater_num
          JOIN MOVIES m
          ON p.movie_num = m.movie_num
          Join ROOMS r
          ON p.room_num = r.room_num
			WHERE
		    play_date = #{play_date}
		    AND r.room_num = #{pageNo}
		ORDER BY
		    play_num
    </select>
    


	<!-- 상영날짜 별 선택가능한 영화 목록 조회 -->
	<select id="findMovieList" resultType="com.itwillbs.dongbaekcinema.vo.MovieVO">
		SELECT 
			movie_num, movie_name_kr
			FROM 
				MOVIES
			WHERE
				#{play_date} 
			BETWEEN movie_release_date
			AND movie_close_date
	</select>

   
    

	
	

    

	
</mapper>