<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.itwillbs.dongbaekcinema.mapper.AdminMapper">

	<!-- 영화관 목록 조회 -->
	<select id="getTeater" resultType="hashmap">
		SELECT 
			theater_num, theater_name
			FROM THEATERS
	</select>
	
    
    	<!-- 영화관 별 스케줄 목록 조회 -->
    <select id="selectScheduleList" resultType="com.itwillbs.dongbaekcinema.vo.PlayVO">
        SELECT
            play_num, play_date, p.theater_num, play_turn, play_start_time, play_end_time, play_time_type, p.movie_num, p.room_num, movie_name_kr, theater_name, room_name 
          FROM
              PLAYS p
          JOIN THEATERS t
          ON p.theater_num = t.theater_num
          JOIN MOVIES m
          ON p.movie_num = m.movie_num
          Join ROOMS r
          ON p.room_num = r.room_num
			WHERE play_date = #{play_date}
			AND p.theater_num = #{theater_num}
          ORDER BY play_num
    </select>
   
    

	
	

    

	
</mapper>
